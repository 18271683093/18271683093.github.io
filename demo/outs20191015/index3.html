<!DOCTYPE html>
<html lang="en">

<head>
    <!-- 制作人信息 -->
    <!--PM:[xxx] Designer:[xxx] Developer:[] date:2018xxxx-->
    <title>XXX</title>
    <meta content="" name="description">
    <meta content="" name="keywords">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="pragma" content="no-cach">
    <meta name="robots" content="all">
    <meta http-equiv="x-rim-auto-match" content="none">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <meta name="format-detection" content="address=no">
    <meta name="format-detection" content="date=no">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="css/reset.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="js/main.js"></script>
</head>

<body>
    <div class="loading" id="loading">
        <div class="loadbox">
            <div class="loadtext">loading</div>
            <div class="circle1"></div>
            <div class="circle2"></div>
        </div>
    </div>
    <div class="page index3">
        <div class="index3-1"><img src="./images/index4-1.png" alt="" srcset=""></div>
        <div class="progress">
            <div class="progress-wrap">
                <div class="progress-bar" style="width: 70%;"> </div>
            </div>
            <div class="prpgress-text">已捐金额 xxx 元 / 目标金额 xxx 元</div>
        </div>
        <div class="content">
            <form action="./index4.html">
                <label class="item">
                    <input type="radio" name="money" value="50" id="">
                    <div> 两人认领一盏灯（50元）</div>
                </label>
                <p class="yq">- 请小伙伴一起助力 -</p>
                <label class="item">
                    <input type="radio" name="money" value="100" id="">
                    <div> 认领一盏灯（100元）</div>
                </label>
                <label class="text-input">
                    <span>其他金额</span>
                    <input id="zdyinput" type="text"
                        onkeyup="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'')}else{this.value=this.value.replace(/\D/g,'')}"
                        onafterpaste="if(this.value.length==1){this.value=this.value.replace(/[^1-9]/g,'0')}else{this.value=this.value.replace(/\D/g,'')}"
                        name="money" id="">
                    <span>元</span>
                    <div class="errMsg"></div>
                </label>

                <button id="submit">确认</button>
            </form>
        </div>
    </div>
    <div class="shade" style="display: none">
        <img src="./images/share.png" alt="" class="shareimg">
    </div>
    <script src="./js/jquery-1.11.1.min.js"></script>
    <script>
        $('#zdyinput').focus(function() {
            $('input:radio').removeAttr('checked');
        })

        $('input:radio').change(function() {
            $('.errMsg').text('');
            $('#zdyinput').val('');
        })

        $('#zdyinput').change(function() {
            if ($(this).val() != '') $('.errMsg').text('');
        })

        $('#submit').click(function(e) {
            var isInput = false;
            $('input:radio').each(function(idx, el) {
                if (el.checked) isInput = true;
            })
            if ($('#zdyinput').val() != "") isInput = true;
            $('.errMsg').text('')
            if (!isInput) {
                e.stopPropagation();
                e.preventDefault();
                $('.errMsg').text('请选择一项或者输入金额！')
            }
        })

        $('.yq').click(function() {
            $('.shade').show()
        })
        $('.shade').click(function() {
            $('.shade').hide()
        })
    </script>
</body>

</html>